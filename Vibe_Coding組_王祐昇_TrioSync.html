<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fate Keys å‘½é‹ç¯€å¥</title>
    <link rel="stylesheet" href="./Vibe_Codingçµ„_ç‹ç¥æ˜‡_é‹è¡Œç¨‹å¼åŠéŠæˆ²ç´ æ/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Audiowide&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ç²’å­èƒŒæ™¯ Canvas -->
    <canvas id="particles-bg" aria-hidden="true"></canvas>
    
    <!-- éŸ³è¨Šè§£é–é®ç½© -->
    <div id="unlock-audio-mask">
        <div class="unlock-content">
            <div class="unlock-icon">ğŸµ</div>
            <div class="unlock-text">é»æ“Šç•«é¢ä»¥å•Ÿç”¨éŸ³æ¨‚</div>
            <div class="unlock-hint">æº–å‚™å¥½é«”é©—å‘½é‹ç¯€å¥äº†å—ï¼Ÿ</div>
        </div>
    </div>
    
    <div id="main-wrapper">
        <!-- å€’æ•¸å‹•ç•«é®ç½© -->
        <div id="countdown-overlay">
            <div id="countdown-text">3</div>
        </div>
        
        <!-- éŠæˆ²æ¨™é¡Œ -->
        <header>
            <h1 class="neon-logo">Fate Keys å‘½é‹ç¯€å¥</h1>
            <p class="subtitle">åŸºæ–¼ç¶“å…¸éŸ³æ¨‚çš„é›»ç«¶ç¯€å¥éŠæˆ²</p>
            <div id="audio-error-msg" role="alert"></div>
        </header>
        
        <!-- éŸ³æ¨‚èˆ‡é›£åº¦é¸æ“‡å€ -->
        <section id="select-area">
            <div class="song-select">
                <h2 class="section-title">é¸æ“‡æ­Œæ›²</h2>
                <div class="song-card-list">
                    <div class="song-card" data-song="Champion.mp3" tabindex="0" aria-label="é¸æ“‡æ­Œæ›² You're The Champion">
                        <div class="song-card-icon">ğŸµ</div>
                        <div class="song-card-title">You're The Champion</div>
                        <div class="song-card-bpm">BPM: 128</div>
                    </div>
                    <div class="song-card" data-song="Bliss.mp3">
                        <div class="song-card-icon">ğŸ¶</div>
                        <div class="song-card-title">Bliss</div>
                        <div class="song-card-bpm">BPM: 140</div>
                    </div>
                    <div class="song-card" data-song="Canon.mp3">
                        <div class="song-card-icon">ğŸ»</div>
                        <div class="song-card-title">Canon in D Major</div>
                        <div class="song-card-bpm">BPM: 120</div>
                    </div>
                    <div class="song-card" data-song="HappyBirthday.mp3">
                        <div class="song-card-icon">ğŸ‚</div>
                        <div class="song-card-title">Happy Birthday</div>
                        <div class="song-card-bpm">BPM: 100</div>
                    </div>
                    <div class="song-card" data-song="MainTheme.mp3">
                        <div class="song-card-icon">ğŸŒŸ</div>
                        <div class="song-card-title">Main Theme</div>
                        <div class="song-card-bpm">BPM: 135</div>
                    </div>
                    <div class="song-card" data-song="MagicalMoments.mp3">
                        <div class="song-card-icon">âœ¨</div>
                        <div class="song-card-title">Magical Moments</div>
                        <div class="song-card-bpm">BPM: 145</div>
                    </div>
                    <div class="song-card" data-song="Noise.mp3">
                        <div class="song-card-icon">ğŸ”Š</div>
                        <div class="song-card-title">Noise</div>
                        <div class="song-card-bpm">BPM: 150</div>
                    </div>
                    <div class="song-card" data-song="HammerMASTER.mp3">
                        <div class="song-card-icon">ğŸ¥</div>
                        <div class="song-card-title">HammerMASTER</div>
                        <div class="song-card-bpm">BPM: 160</div>
                    </div>
                    <div class="song-card" data-song="InspiringDreams.mp3">
                        <div class="song-card-icon">ğŸ·</div>
                        <div class="song-card-title">Inspiring Dreams</div>
                        <div class="song-card-bpm">BPM: 130</div>
                    </div>
                    <div class="song-card" data-song="inspiringguitar.mp3">
                        <div class="song-card-icon">ğŸ¸</div>
                        <div class="song-card-title">Guitar Rhythm</div>
                        <div class="song-card-bpm">BPM: 125</div>
                    </div>
                </div>
            </div>
            
            <!-- é›£åº¦é¸æ“‡å€ -->
            <div class="difficulty-select">
                <h2 class="section-title">é¸æ“‡é›£åº¦</h2>
                <div class="difficulty-btn-row">
                    <button class="difficulty-btn beginner" data-difficulty="beginner" tabindex="0" aria-label="é¸æ“‡é›£åº¦ Lv.1">
                        <div class="difficulty-level">Lv.1</div>
                        <div class="difficulty-name">åˆå­¸è€… Beginner</div>
                        <div class="difficulty-stars">â˜…</div>
                    </button>
                    <button class="difficulty-btn casual" data-difficulty="casual" tabindex="0" aria-label="é¸æ“‡é›£åº¦ Lv.2">
                        <div class="difficulty-level">Lv.2</div>
                        <div class="difficulty-name">ä¼‘é–’ç©å®¶ Casual</div>
                        <div class="difficulty-stars">â˜…â˜…</div>
                    </button>
                    <button class="difficulty-btn hard" data-difficulty="hard" tabindex="0" aria-label="é¸æ“‡é›£åº¦ Lv.3">
                        <div class="difficulty-level">Lv.3</div>
                        <div class="difficulty-name">å›°é›£æ¨¡å¼ Hard</div>
                        <div class="difficulty-stars">â˜…â˜…â˜…</div>
                    </button>
                    <button class="difficulty-btn extreme" data-difficulty="extreme" tabindex="0" aria-label="é¸æ“‡é›£åº¦ Lv.4">
                        <div class="difficulty-level">Lv.4</div>
                        <div class="difficulty-name">æ¥µé™æŒ‘æˆ° Extreme</div>
                        <div class="difficulty-stars">â˜…â˜…â˜…â˜…</div>
                    </button>
                    <button class="difficulty-btn master" data-difficulty="master" tabindex="0" aria-label="é¸æ“‡é›£åº¦ Lv.5">
                        <div class="difficulty-level">Lv.5</div>
                        <div class="difficulty-name">å¤§å¸«ç´š Master</div>
                        <div class="difficulty-stars">â˜…â˜…â˜…â˜…â˜…</div>
                    </button>
                    <button class="difficulty-btn fate hidden-difficulty" data-difficulty="fate" tabindex="0" aria-label="é¸æ“‡é›£åº¦ Lv.6" disabled>
                        <div class="difficulty-level">Lv.6</div>
                        <div class="difficulty-name">å‘½é‹ä¹‹è·¯ Fate Mode</div>
                        <div class="difficulty-stars">â­â­â­â­â­âœ¨</div>
                    </button>
                </div>
                <div id="miss-buffer-ui" class="miss-buffer-ui" style="display:none;"></div>
            </div>
            
            <div class="start-btn-container">
                <button id="start-btn" class="pulse-btn" tabindex="0" aria-label="é–‹å§‹éŠæˆ²">
                    <div class="start-btn-icon">ğŸš€</div>
                    <div class="start-btn-text">é–‹å§‹éŠæˆ²</div>
                </button>
            </div>
        </section>
        
        <!-- éŠæˆ²å€åŸŸ -->
        <section id="game-area">
            <div class="game-header">
                <div id="timer-display">60</div>
                <div id="score-display">åˆ†æ•¸: 0</div>
                <div id="combo-display">0</div>
            </div>
            
            <canvas id="game-canvas"></canvas>
            
            <!-- éŸ³é »å¯è¦–åŒ– -->
            <canvas id="audio-visualizer"></canvas>
            
            <div id="key-hints">
                <div class="key" data-key="D">D</div>
                <div class="key" data-key="F">F</div>
                <div class="key" data-key=" ">SPACE</div>
                <div class="key" data-key="J">J</div>
                <div class="key" data-key="K">K</div>
            </div>
            
            <!-- Combo å®¹å™¨ -->
            <div id="combo-container"></div>
        </section>
        
        <!-- çµç®—ç•«é¢ -->
        <section id="result-screen">
            <h2 class="result-title">éŠæˆ²çµæŸ</h2>
            <div class="result-content">
                <div id="final-score" class="final-score"></div>
                <div id="final-grade" class="final-grade"></div>
            </div>
            <div class="result-buttons">
                <button id="restart-btn" class="action-btn" tabindex="0" aria-label="å†ç©ä¸€æ¬¡">
                    <span class="btn-icon">ğŸ”„</span>
                    å†ç©ä¸€æ¬¡
                </button>
                <button id="back-btn" class="action-btn" tabindex="0" aria-label="è¿”å›ä¸»é¸å–®">
                    <span class="btn-icon">ğŸ </span>
                    è¿”å›ä¸»é¸å–®
                </button>
            </div>
        </section>
    </div>
    
    <!-- é«˜å°æ¯”æ¨¡å¼åˆ‡æ›æŒ‰éˆ• -->
    <button id="contrast-btn" class="action-btn" tabindex="0" aria-label="é«˜å°æ¯”æ¨¡å¼" style="position: absolute; top: 1rem; left: 1rem; z-index: 10; width:160px; text-align:center; white-space:nowrap;">ğŸŒ“ é«˜å°æ¯”</button>
    <!-- éŠæˆ²èªªæ˜æŒ‰éˆ•ï¼ˆç§»åˆ°é«˜å°æ¯”ä¸‹æ–¹ï¼‰ -->
    <button id="help-btn" class="action-btn" tabindex="0" aria-label="éŠæˆ²èªªæ˜" style="position: absolute; top: 3.8rem; left: 1rem; z-index: 10; width:160px; text-align:center; white-space:nowrap;">ğŸ“– ç©æ³•èªªæ˜</button>
    <!-- æ–°å¢æ’è¡Œæ¦œæŒ‰éˆ• -->
    <button id="leaderboard-btn" class="action-btn" tabindex="0" aria-label="æ’è¡Œæ¦œ" style="position: absolute; top: 6.6rem; left: 1rem; z-index: 10; width:160px; text-align:center; white-space:nowrap;">ğŸ† æ’è¡Œæ¦œ</button>
    <!-- éŠæˆ²è¦å‰‡é¡¯ç¤ºå€ï¼ˆç”±JSæ§åˆ¶é¡¯ç¤ºï¼‰ -->
    <div id="help-modal" style="display:none;"></div>
    
    <!-- è¼‰å…¥/éå ´å‹•ç•«å€å¡Š -->
    <div id="loading-overlay" style="display:none;position:fixed;z-index:999999;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.85);align-items:center;justify-content:center;">
        <div class="loader"></div>
    </div>
    
    <!-- æ–°å¢ç¨ç«‹æ’è¡Œæ¦œView -->
    <div id="leaderboard-view" style="display:none;position:fixed;z-index:10001;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.92);align-items:center;justify-content:center;flex-direction:column;">
        <div id="leaderboard-content" style="max-width:480px;width:90vw;background:rgba(0,0,0,0.85);border-radius:18px;padding:32px 16px 24px 16px;box-shadow:0 0 32px #0ff6;margin:0 auto;"></div>
        <button id="close-leaderboard-btn" class="action-btn" style="margin-top:24px;font-size:1.2em;">è¿”å›é¦–é </button>
    </div>
    
    <script src="./Vibe_Codingçµ„_ç‹ç¥æ˜‡_é‹è¡Œç¨‹å¼åŠéŠæˆ²ç´ æ/game.js"></script>
    <script src="./Vibe_Codingçµ„_ç‹ç¥æ˜‡_é‹è¡Œç¨‹å¼åŠéŠæˆ²ç´ æ/judgment.js"></script>
</body>
</html> 